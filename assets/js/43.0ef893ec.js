(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{369:function(a,t,e){"use strict";e.r(t);var r=e(5),s=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"搭建win开发环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搭建win开发环境"}},[a._v("#")]),a._v(" 搭建win开发环境")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.reactnative.cn/docs/environment-setup",target:"_blank",rel:"noopener noreferrer"}},[a._v("搭建开发环境"),t("OutboundLink")],1)]),a._v(" "),t("blockquote",[t("p",[a._v("必须安装的依赖有：Node、JDK 和 Android Studio、python（官网没说，但是是要安装的）")])]),a._v(" "),t("ul",[t("li",[a._v("node14")]),a._v(" "),t("li",[a._v("jdk11")]),a._v(" "),t("li",[a._v("python27")])]),a._v(" "),t("p",[t("code",[a._v("Android Studio")]),a._v("安装步骤，按照官网步骤执行即可。"),t("strong",[a._v("特别需要注意的是：sdk版本、avd设备的api版本！！！")])]),a._v(" "),t("h2",{attrs:{id:"初始化项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目"}},[a._v("#")]),a._v(" 初始化项目")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("npx react-native init AwesomeProject\n")])])]),t("p",[a._v("可能会出现拉取失败报错，即使翻墙了，也会失败。如下操作，指定"),t("code",[a._v("npm")]),a._v("安装，默认"),t("code",[a._v("yarn")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("npx react-native init YourAwesomeProject "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--npm")]),a._v("\n")])])]),t("p",[t("a",{attrs:{href:"https://stackoverflow.com/questions/60838115/error-while-creating-react-native-cli-project",target:"_blank",rel:"noopener noreferrer"}},[a._v("Error while creating react-native cli project"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"启动项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动项目"}},[a._v("#")]),a._v(" 启动项目")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run android\n")])])]),t("p",[a._v("如果报错的话，先排除依赖包问题，删除项目下的 "),t("code",[a._v("node_modules")]),a._v(" 目录 和 "),t("code",[a._v("package-lock.json")]),a._v(" ,重新 "),t("code",[a._v("npm install")]),a._v(" 解决问题。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" cache clean "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--force")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),t("h2",{attrs:{id:"错误-app-installdebug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#错误-app-installdebug"}},[a._v("#")]),a._v(" 错误：app：installDebug")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://stackoverflow.com/questions/51829389/execution-failed-for-task-appinstalldebug-react-native-app",target:"_blank",rel:"noopener noreferrer"}},[a._v("任务'：app：installDebug'的执行失败反应本机应用程序[重复]"),t("OutboundLink")],1),a._v("报错的解决方法：")]),a._v(" "),t("ul",[t("li",[a._v("sdk版本 要与"),t("code",[a._v("android/build.gradle")]),a._v("该文件下的"),t("code",[a._v("buildToolsVersion")]),a._v("设置的版本保持一致或者比它版本高，向下兼容。")]),a._v(" "),t("li",[a._v("sdk版本 对应的 avd设备的api版本，是否兼容？")]),a._v(" "),t("li",[a._v("排除以上俩个问题，可能是 "),t("strong",[a._v("没有找到模拟器")]),a._v("、"),t("strong",[a._v("模拟器未开机成功")]),a._v("、"),t("strong",[a._v("手机开发者模式没有打开")]),a._v("、"),t("strong",[a._v("运行了多个模拟器")]),a._v(" 等情况造成，执行"),t("code",[a._v("npm run start")]),a._v("，通过按键"),t("code",[a._v("a")]),a._v("重新部署到模拟器，直到构建成功！！！")])]),a._v(" "),t("h2",{attrs:{id:"错误-app停留在启动页"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#错误-app停留在启动页"}},[a._v("#")]),a._v(" 错误：app停留在启动页")]),a._v(" "),t("h3",{attrs:{id:"问题描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题描述"}},[a._v("#")]),a._v(" 问题描述：")]),a._v(" "),t("p",[a._v("app构建成功，但是会停留在启动页，即程序并未真正启动！！！")]),a._v(" "),t("h3",{attrs:{id:"导致问题的原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#导致问题的原因"}},[a._v("#")]),a._v(" 导致问题的原因")]),a._v(" "),t("p",[a._v("启动（夜神）模拟器 or 真机后（android的avd设备不需要启动），执行如下命令，完成app的构建：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run android\n")])])]),t("p",[a._v("只执行这一步就可能会导致，app构建成功，但未启动。")]),a._v(" "),t("h3",{attrs:{id:"解决方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[a._v("#")]),a._v(" 解决方法")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run start\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 按 r ，刷新app，重新构建即可")]),a._v("\nr\n")])])]),t("h3",{attrs:{id:"分析原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分析原因"}},[a._v("#")]),a._v(" 分析原因：")]),a._v(" "),t("p",[t("strong",[a._v("摘自"),t("a",{attrs:{href:"https://www.reactnative.cn/docs/environment-setup#%E7%BC%96%E8%AF%91%E5%B9%B6%E8%BF%90%E8%A1%8C-react-native-%E5%BA%94%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网"),t("OutboundLink")],1)])]),a._v(" "),t("p",[a._v("编译并运行 React Native 应用，确保你先运行了模拟器或者连接了真机，然后在你的项目目录中运行 "),t("code",[a._v("yarn android")]),a._v(" 或者 "),t("code",[a._v("yarn react-native run-android")]),a._v("。")]),a._v(" "),t("p",[a._v("此命令会对项目的原生部分进行编译，同时在另外一个命令行中启动 "),t("code",[a._v("Metro")]),a._v(" 服务对 "),t("code",[a._v("js")]),a._v(" 代码进行实时打包处理（类似 "),t("code",[a._v("webpack")]),a._v(" ）。 "),t("code",[a._v("Metro")]),a._v(" 服务也可以使用 "),t("code",[a._v("yarn start")]),a._v(" 命令单独启动。")]),a._v(" "),t("p",[a._v("所以，当没有 "),t("code",[a._v("js")]),a._v(" 代码的时候，该app能正常启动。当存在 "),t("code",[a._v("js")]),a._v(" 代码的时候，需要再执行 "),t("code",[a._v("yarn start")]),a._v("。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" android\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" start\n")])])]),t("p",[t("a",{attrs:{href:"https://stackoverflow.com/questions/54245925/npm-run-android-does-not-launch-the-android-app",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考stack overflow"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);